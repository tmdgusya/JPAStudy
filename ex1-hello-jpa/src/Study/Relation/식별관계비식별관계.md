# 복합키와 식별관계 맵핑

## 식별 관계

- 식별관계는 부모 테이블의 기본 키를 내려받아서 자식 테이블의 **기본 키 + 외래 키로 사용하는 관계**이다.

```
parent                  child
---------------         ---------------
parent_id(PK)           parent_id(PK,FK)
name                    child_id(PK)
                        name
```

## 비식별 관계

- 비식별 관계는 **부모 테이블의 기본키를 받아서 자식 테이블의 외래키**로만 사용하는 관계이다. 
```
parent                  child
---------------         ---------------
parent_id(PK)           child_id(PK)
name                    parent_id(FK)
                        name
```

- PARENT TABLE 의 기본 키 PARENT_ID 를 받아서, CHILD 의 외래 키로만 사용한다.
- 비식별 관계는 외래 키에 NULL 을 허용하는지에 따라, 필수적 비식별 관계와 선택적 비식별 관계로 나뉜다.

### 필수적 비식별 관계

- 외래키에 NULL 을 허용하지 않는다. 연관관계를 필수적으로 맺어야 한다. 그니까 주문과 사람의 관계? 이게 예로 적당한것 같다. 사람이 있어야 주문도 있으므로 주문의 사람정보
외래키는 반드시 NULL 이 아니여야 한다.

### 선택적 비식별 관계

- 외래키에 NULL 을 허용한다. 연관관계를 맺을지 말지 선택할 수 있다. 이건 예를들자면 팀이 좋겠다. 팀은 사람이 있을 수도 있고, 없을 수도 있다. 따라서 비식별관계가 가능하다.

### 최근 동향

- 최근에는 비식별관계를 주로 사용하고, 꼭 필요한 곳에만 식별관계를 이용한다고 한다. 